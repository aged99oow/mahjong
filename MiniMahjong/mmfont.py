#
# https://aburi6800.hatenablog.com/entry/2020/06/13/132328
# https://qiita.com/mochitetris/items/7ef934e565b000bf1932
# https://littlelimit.net/misaki.htm
#
import pyxel
def text(x, y, txt, col=7):
    FONT_DIC = {
        '・' : (2,3,3,3,2,4,3,4,),
        'ー' : (0,2,1,3,2,3,3,3,4,3,5,3,6,3,),
        '…' : (0,3,3,3,6,3,),
        '‥' : (1,3,5,3,),
        '３' : (2,0,3,0,4,0,5,0,1,1,6,1,6,2,3,3,4,3,5,3,6,4,1,5,6,5,2,6,3,6,4,6,5,6,),
        'あ' : (2,0,1,1,2,1,3,1,4,1,5,1,2,2,2,3,3,3,4,3,5,3,1,4,2,4,4,4,6,4,0,5,2,5,3,5,6,5,1,6,2,6,5,6,),
        'い' : (0,1,4,1,0,2,5,2,0,3,6,3,0,4,6,4,1,5,3,5,2,6,),
        'う' : (2,0,3,0,4,0,5,0,2,2,3,2,4,2,5,2,1,3,6,3,6,4,5,5,2,6,3,6,4,6,),
        'が' : (2,0,4,0,6,0,2,1,0,2,1,2,2,2,3,2,5,2,2,3,4,3,6,3,1,4,4,4,6,4,1,5,4,5,0,6,2,6,3,6,),
        'さ' : (4,0,4,1,1,2,2,2,3,2,4,2,5,2,6,2,5,3,2,4,5,4,1,5,2,6,3,6,4,6,5,6,),
        'し' : (2,0,2,1,2,2,2,3,2,4,2,5,6,5,3,6,4,6,5,6,),
        'じ' : (2,0,4,0,6,0,2,1,2,2,2,3,2,4,2,5,6,5,3,6,4,6,5,6,),
        'す' : (4,0,0,1,1,1,2,1,3,1,4,1,5,1,6,1,3,2,4,2,2,3,4,3,3,4,4,4,4,5,3,6,),
        'せ' : (2,0,5,0,2,1,5,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,2,3,5,3,2,4,4,4,5,4,2,5,3,6,4,6,5,6,6,6,),
        'た' : (2,0,0,1,1,1,2,1,3,1,2,2,4,2,5,2,6,2,1,3,1,4,4,4,1,5,3,5,0,6,4,6,5,6,6,6,),
        'っ' : (3,3,4,3,1,4,2,4,5,4,5,5,3,6,4,6,),
        'で' : (4,0,5,0,6,0,1,1,2,1,3,1,5,1,4,2,6,2,3,3,3,4,4,5,5,6,6,6,),
        'と' : (2,0,2,1,2,2,5,2,3,3,4,3,2,4,1,5,2,6,3,6,4,6,5,6,6,6,),
        'な' : (2,0,0,1,1,1,2,1,3,1,5,1,2,2,6,2,1,3,5,3,0,4,3,4,4,4,5,4,2,5,5,5,6,5,3,6,4,6,),
        'に' : (0,0,0,1,3,1,4,1,5,1,0,2,0,3,0,4,3,4,0,5,2,5,0,6,3,6,4,6,5,6,6,6,),
        'の' : (2,1,3,1,4,1,1,2,3,2,5,2,0,3,3,3,6,3,0,4,2,4,6,4,1,5,5,5,3,6,4,6,),
        'は' : (0,0,5,0,0,1,5,1,0,2,2,2,3,2,4,2,5,2,6,2,0,3,5,3,0,4,3,4,4,4,5,4,0,5,2,5,5,5,0,6,3,6,4,6,6,6,),
        'ま' : (4,0,1,1,2,1,3,1,4,1,5,1,6,1,4,2,1,3,2,3,3,3,4,3,5,3,6,3,4,4,1,5,2,5,3,5,4,5,5,5,1,6,2,6,3,6,4,6,6,6,),
        'め' : (4,0,1,1,4,1,1,2,3,2,4,2,5,2,1,3,2,3,4,3,6,3,0,4,2,4,3,4,6,4,0,5,2,5,6,5,1,6,3,6,5,6,),
        'も' : (3,0,1,1,2,1,3,1,4,1,5,1,2,2,1,3,2,3,3,3,4,3,5,3,2,4,6,4,2,5,6,5,3,6,4,6,5,6,),
        'ょ' : (4,1,4,2,4,3,5,3,2,4,3,4,4,4,1,5,4,5,2,6,3,6,5,6,),
        'ら' : (2,0,3,0,4,1,1,2,1,3,3,3,4,3,5,3,1,4,2,4,6,4,6,5,2,6,3,6,4,6,5,6,),
        'る' : (2,0,3,0,4,0,5,0,4,1,3,2,2,3,3,3,4,3,5,3,1,4,6,4,2,5,3,5,6,5,2,6,3,6,4,6,5,6,),
        'れ' : (2,0,2,1,4,1,5,1,0,2,1,2,2,2,3,2,5,2,2,3,5,3,1,4,2,4,5,4,0,5,2,5,5,5,2,6,6,6,),
        'を' : (3,0,1,1,2,1,3,1,4,1,5,1,2,2,1,3,2,3,3,3,5,3,6,3,0,4,3,4,4,4,2,5,4,5,3,6,4,6,5,6,6,6,),
        'ん' : (3,0,3,1,2,2,2,3,1,4,3,4,1,5,3,5,6,5,0,6,4,6,5,6,),
        'ア' : (1,0,2,0,3,0,4,0,5,0,6,0,6,1,3,2,5,2,3,3,4,3,3,4,3,5,2,6,),
        'オ' : (4,0,0,1,1,1,2,1,3,1,4,1,5,1,6,1,4,2,3,3,4,3,2,4,4,4,0,5,1,5,4,5,3,6,4,6,),
        'グ' : (3,0,5,0,3,1,4,1,5,1,6,1,2,2,6,2,1,3,6,3,5,4,4,5,2,6,3,6,),
        'コ' : (1,1,2,1,3,1,4,1,5,1,6,1,6,2,6,3,6,4,6,5,1,6,2,6,3,6,4,6,5,6,6,6,),
        'ス' : (1,1,2,1,3,1,4,1,5,1,5,2,4,3,4,4,2,5,3,5,5,5,0,6,1,6,6,6,),
        'タ' : (3,0,3,1,4,1,5,1,6,1,2,2,6,2,1,3,3,3,4,3,6,3,5,4,4,5,2,6,3,6,),
        'チ' : (4,0,5,0,1,1,2,1,3,1,3,2,0,3,1,3,2,3,3,3,4,3,5,3,6,3,3,4,3,5,2,6,),
        'ッ' : (1,3,3,3,5,3,1,4,3,4,5,4,4,5,2,6,3,6,),
        'ツ' : (0,1,2,1,6,1,1,2,3,2,6,2,1,3,3,3,6,3,5,4,4,5,2,6,3,6,),
        'ト' : (2,0,2,1,2,2,2,3,3,3,4,3,2,4,5,4,2,5,2,6,),
        'ド' : (2,0,4,0,6,0,2,1,2,2,2,3,3,3,4,3,2,4,5,4,2,5,2,6,),
        'ナ' : (3,0,3,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,3,3,3,4,2,5,1,6,),
        'ハ' : (2,1,4,1,2,2,5,2,2,3,5,3,1,4,6,4,1,5,6,5,0,6,6,6,),
        'パ' : (5,0,2,1,4,1,6,1,2,2,5,2,2,3,5,3,1,4,6,4,1,5,6,5,0,6,6,6,),
        'プ' : (5,0,1,1,2,1,3,1,4,1,6,1,5,2,6,2,6,3,5,4,4,5,2,6,3,6,),
        'ベ' : (4,0,6,0,2,1,1,2,3,2,0,3,4,3,5,4,6,5,),
        'ボ' : (3,0,4,0,6,0,3,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,3,3,1,4,3,4,5,4,0,5,3,5,6,5,2,6,3,6,),
        'モ' : (2,0,3,0,4,0,5,0,3,1,3,2,1,3,2,3,3,3,4,3,5,3,6,3,3,4,3,5,4,6,5,6,6,6,),
        'ャ' : (2,2,2,3,3,3,4,3,5,3,1,4,2,4,5,4,3,5,3,6,),
        'ヤ' : (2,0,2,1,4,1,5,1,6,1,0,2,1,2,2,2,3,2,6,2,2,3,5,3,3,4,3,5,3,6,),
        'ュ' : (2,3,3,3,4,3,4,4,4,5,1,6,2,6,3,6,4,6,5,6,),
        'ラ' : (2,0,3,0,4,0,5,0,1,2,2,2,3,2,4,2,5,2,6,2,6,3,5,4,4,5,2,6,3,6,),
        'リ' : (1,0,5,0,1,1,5,1,1,2,5,2,1,3,5,3,5,4,4,5,2,6,3,6,),
        'ル' : (4,0,2,1,4,1,2,2,4,2,2,3,4,3,2,4,4,4,6,4,1,5,4,5,5,5,0,6,4,6,),
        'レ' : (2,0,2,1,2,2,2,3,6,3,2,4,5,4,2,5,4,5,2,6,3,6,),
        'ロ' : (1,1,2,1,3,1,4,1,5,1,6,1,1,2,6,2,1,3,6,3,1,4,6,4,1,5,6,5,1,6,2,6,3,6,4,6,5,6,6,6,),
        'ン' : (1,0,2,1,6,2,6,3,5,4,4,5,1,6,2,6,3,6,),
        '以' : (1,0,5,0,1,1,3,1,5,1,1,2,4,2,5,2,1,3,5,3,1,4,2,4,5,4,0,5,4,5,5,5,2,6,3,6,6,6,),
        '各' : (3,0,4,0,1,1,2,1,4,1,3,2,2,3,4,3,0,4,1,4,5,4,6,4,2,5,3,5,4,5,2,6,3,6,4,6,),
        '局' : (1,0,2,0,3,0,4,0,5,0,1,1,5,1,1,2,2,2,3,2,4,2,5,2,1,3,1,4,2,4,3,4,4,4,5,4,6,4,1,5,2,5,4,5,6,5,0,6,2,6,3,6,4,6,6,6,),
        '計' : (1,0,5,0,0,1,1,1,2,1,5,1,3,2,4,2,5,2,6,2,0,3,1,3,5,3,5,4,0,5,1,5,2,5,5,5,0,6,1,6,2,6,5,6,),
        '個' : (2,0,3,0,4,0,5,0,6,0,1,1,2,1,4,1,6,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,1,3,2,3,4,3,6,3,1,4,2,4,3,4,5,4,6,4,1,5,2,5,3,5,4,5,5,5,6,5,1,6,2,6,3,6,4,6,5,6,6,6,),
        '合' : (3,0,2,1,4,1,0,2,1,2,3,2,4,2,5,2,6,2,1,4,2,4,3,4,4,4,5,4,1,5,5,5,1,6,2,6,3,6,4,6,5,6,),
        '作' : (2,0,4,0,1,1,4,1,5,1,6,1,0,2,1,2,3,2,4,2,1,3,4,3,5,3,6,3,1,4,4,4,1,5,4,5,5,5,6,5,1,6,4,6,),
        '上' : (3,0,3,1,3,2,4,2,5,2,3,3,3,4,3,5,0,6,1,6,2,6,3,6,4,6,5,6,6,6,),
        '親' : (2,0,4,0,5,0,6,0,0,1,1,1,2,1,3,1,4,1,6,1,1,2,3,2,4,2,5,2,6,2,2,3,4,3,6,3,0,4,1,4,2,4,3,4,4,4,5,4,6,4,1,5,2,5,3,5,5,5,0,6,2,6,4,6,6,6,),
        '須' : (1,0,3,0,4,0,5,0,6,0,0,1,4,1,1,2,3,2,4,2,5,2,6,2,0,3,3,3,6,3,3,4,4,4,5,4,6,4,1,5,0,6,3,6,6,6,),
        '赤' : (3,0,1,1,2,1,3,1,4,1,5,1,3,2,0,3,1,3,2,3,3,3,4,3,5,3,6,3,2,4,4,4,0,5,2,5,4,5,6,5,1,6,3,6,4,6,),
        '組' : (1,0,3,0,4,0,5,0,0,1,3,1,5,1,1,2,3,2,4,2,5,2,0,3,2,3,3,3,5,3,1,4,3,4,4,4,5,4,0,5,1,5,3,5,5,5,1,6,2,6,3,6,4,6,5,6,6,6,),
        '第' : (1,0,4,0,1,1,2,1,4,1,5,1,6,1,0,2,2,2,3,2,5,2,1,3,2,3,3,3,4,3,5,3,1,4,3,4,2,5,3,5,4,5,5,5,6,5,0,6,1,6,3,6,6,6,),
        '点' : (3,0,3,1,4,1,5,1,3,2,1,3,2,3,3,3,4,3,5,3,1,4,2,4,3,4,4,4,5,4,0,6,2,6,4,6,6,6,),
        '同' : (0,0,1,0,2,0,3,0,4,0,5,0,6,0,0,1,6,1,0,2,2,2,3,2,4,2,6,2,0,3,6,3,0,4,2,4,3,4,4,4,6,4,0,5,2,5,4,5,6,5,0,6,2,6,3,6,4,6,6,6,),
        '牌' : (0,0,2,0,4,0,0,1,2,1,3,1,4,1,5,1,6,1,0,2,1,2,2,2,3,2,4,2,6,2,0,3,3,3,4,3,5,3,6,3,0,4,1,4,2,4,4,4,5,4,0,5,2,5,3,5,4,5,5,5,6,5,0,6,2,6,5,6,),
        '番' : (0,0,1,0,2,0,3,0,4,0,5,0,6,0,1,1,3,1,5,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,2,3,3,3,4,3,0,4,1,4,3,4,5,4,6,4,1,5,2,5,3,5,4,5,5,5,1,6,2,6,3,6,4,6,5,6,),
        '必' : (2,0,3,1,5,1,2,2,5,2,0,3,2,3,4,3,6,3,0,4,2,4,3,4,6,4,2,5,0,6,1,6,3,6,4,6,5,6,6,6,),
        '方' : (3,0,0,1,1,1,2,1,3,1,4,1,5,1,6,1,2,2,2,3,3,3,4,3,5,3,2,4,5,4,1,5,5,5,0,6,4,6,5,6,),
        '満' : (0,0,3,0,5,0,2,1,3,1,4,1,5,1,6,1,0,2,3,2,5,2,1,3,2,3,3,3,4,3,5,3,6,3,0,4,2,4,4,4,6,4,0,5,2,5,3,5,4,5,5,5,6,5,0,6,2,6,6,6,),
        '役' : (1,0,3,0,4,0,5,0,0,1,3,1,5,1,1,2,2,2,5,2,6,2,0,3,1,3,3,3,4,3,5,3,1,4,3,4,5,4,1,5,4,5,1,6,2,6,3,6,5,6,6,6,),
        '要' : (0,0,1,0,2,0,3,0,4,0,5,0,6,0,1,1,3,1,5,1,1,2,2,2,3,2,4,2,5,2,3,3,0,4,1,4,2,4,3,4,4,4,5,4,6,4,2,5,4,5,0,6,1,6,2,6,3,6,5,6,6,6,),
        '流' : (0,0,4,0,2,1,3,1,4,1,5,1,6,1,0,2,3,2,5,2,2,3,3,3,4,3,6,3,0,4,3,4,4,4,0,5,3,5,4,5,6,5,0,6,2,6,4,6,6,6,),
        '両' : (0,0,1,0,2,0,3,0,4,0,5,0,6,0,3,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,0,3,3,3,6,3,0,4,1,4,3,4,5,4,6,4,0,5,1,5,2,5,3,5,4,5,5,5,6,5,0,6,6,6,),
        '例' : (2,0,3,0,4,0,6,0,1,1,3,1,5,1,6,1,0,2,1,2,3,2,4,2,5,2,6,2,1,3,2,3,4,3,5,3,6,3,1,4,3,4,4,4,6,4,1,5,3,5,6,5,1,6,2,6,5,6,6,6,),
        '連' : (0,0,4,0,2,1,3,1,4,1,5,1,6,1,3,2,4,2,5,2,0,3,1,3,3,3,4,3,5,3,1,4,2,4,3,4,4,4,5,4,6,4,1,5,4,5,0,6,2,6,3,6,4,6,5,6,6,6,),
        
        '得' : (1,0,3,0,4,0,5,0,0,1,3,1,5,1,1,2,2,2,3,2,4,2,5,2,6,2,0,3,1,3,5,3,1,4,2,4,3,4,4,4,5,4,6,4,1,5,3,5,5,5,1,6,4,6,5,6,),
        '表' : (3,0,1,1,2,1,3,1,4,1,5,1,3,2,0,3,1,3,2,3,3,3,4,3,5,3,2,4,4,4,6,4,0,5,1,5,2,5,5,5,2,6,3,6,6,6,),
        '一' : (5,2,0,3,1,3,2,3,3,3,4,3,5,3,6,3,),
        '覧' : (0,0,1,0,2,0,4,0,0,1,1,1,4,1,5,1,6,1,0,2,1,2,2,2,5,2,6,2,2,3,3,3,4,3,2,4,3,4,4,4,2,5,3,5,4,5,6,5,0,6,1,6,4,6,5,6,6,6,),
        '←' : (2,1,1,2,0,3,1,3,2,3,3,3,4,3,5,3,6,3,1,4,2,5,),
        '→' : (4,1,5,2,0,3,1,3,2,3,3,3,4,3,5,3,6,3,5,4,4,5,),
        '立' : (3,0,0,1,1,1,2,1,3,1,4,1,5,1,6,1,1,2,5,2,2,3,5,3,2,4,4,4,2,5,4,5,0,6,1,6,2,6,3,6,4,6,5,6,6,6,),
        '全' : (3,0,2,1,4,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,3,3,1,4,2,4,3,4,4,4,5,4,3,5,0,6,1,6,2,6,3,6,4,6,5,6,6,6,),
        '位' : (2,0,4,0,1,1,2,1,3,1,4,1,5,1,6,1,0,2,1,2,3,2,5,2,1,3,3,3,5,3,1,4,3,4,5,4,1,5,3,5,4,5,1,6,2,6,3,6,4,6,5,6,6,6,),
        '終' : (1,0,4,0,5,0,0,1,3,1,5,1,1,2,4,2,0,3,2,3,3,3,5,3,6,3,1,4,4,4,0,5,1,5,2,5,1,6,4,6,5,6,),
        '了' : (0,0,1,0,2,0,3,0,4,0,5,0,6,0,5,1,3,2,4,2,3,3,3,4,3,5,2,6,3,6,),
        '始' : (2,0,5,0,2,1,5,1,0,2,1,2,2,2,3,2,4,2,6,2,1,3,3,3,4,3,5,3,6,3,1,4,2,4,2,5,3,5,4,5,5,5,6,5,0,6,1,6,4,6,5,6,6,6,),
        '最' : (1,0,2,0,3,0,4,0,5,0,1,1,5,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,1,3,3,3,6,3,1,4,3,4,4,4,6,4,0,5,1,5,2,5,3,5,5,5,3,6,4,6,6,6,),
        '更' : (0,0,1,0,2,0,3,0,4,0,5,0,6,0,1,1,3,1,5,1,1,2,2,2,3,2,4,2,5,2,1,3,3,3,5,3,1,4,2,4,3,4,4,4,5,4,2,5,3,5,0,6,1,6,4,6,5,6,6,6,),
        '新' : (2,0,6,0,0,1,1,1,2,1,3,1,4,1,5,1,1,2,3,2,4,2,2,3,4,3,5,3,6,3,0,4,1,4,2,4,3,4,4,4,6,4,1,5,2,5,3,5,6,5,0,6,2,6,4,6,6,6,),
        '記' : (1,0,3,0,4,0,5,0,6,0,0,1,1,1,2,1,6,1,6,2,0,3,1,3,3,3,4,3,5,3,6,3,3,4,0,5,1,5,3,5,6,5,0,6,1,6,3,6,4,6,5,6,6,6,),
        '録' : (1,0,3,0,4,0,5,0,0,1,2,1,5,1,0,2,1,2,2,2,3,2,4,2,5,2,6,2,1,3,4,3,0,4,1,4,2,4,4,4,6,4,1,5,3,5,4,5,5,5,0,6,1,6,2,6,4,6,6,6,),
        
    }
    
    init_x   = x
    init_col = col
    for ch in txt:
        if col == -1:
            col = int(ch, 16)
            if not 0 <= col < 16:
                col = init_col
                ch = '*'
        elif ch == '*':
            col = -1
            continue
        elif ch == '\n':
            x = init_x
            y += 8
        else:
            font_data = FONT_DIC.get(ch)
            if font_data == None:
                pyxel.text(x, y+1, ch, col)
                x += 4
            else:
                for dx, dy in zip(*[iter(font_data)]*2):
                    pyxel.pset(x+dx, y+dy, col)
                x += 8

if __name__ == '__main__':
    pass
